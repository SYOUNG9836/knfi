<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read Korean National Forest Inventory — read_nfi • knfi</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read Korean National Forest Inventory — read_nfi"><meta name="description" content="read_nfi() function reads and processes the Korean National Forest Inventory (NFI).
It loads annual NFI files from a local computer, transforms the data into an analysis-friendly format, and performs data integrity verification.
Users can specify districts and tables to load.
When loading data from the original NFI Excel files, the function will automatically handle the translation of Korean column names to English - no manual translation is required.
NFI data can be downloaded from https://kfss.forest.go.kr/stat/."><meta property="og:description" content="read_nfi() function reads and processes the Korean National Forest Inventory (NFI).
It loads annual NFI files from a local computer, transforms the data into an analysis-friendly format, and performs data integrity verification.
Users can specify districts and tables to load.
When loading data from the original NFI Excel files, the function will automatically handle the translation of Korean column names to English - no manual translation is required.
NFI data can be downloaded from https://kfss.forest.go.kr/stat/."><meta property="og:image" content="https://syoung9836.github.io/knfi/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">knfi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/knfi.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SYOUNG9836/knfi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Read Korean National Forest Inventory</h1>
      <small class="dont-index">Source: <a href="https://github.com/SYOUNG9836/knfi/blob/main/R/read_nfi.R" class="external-link"><code>R/read_nfi.R</code></a></small>
      <div class="d-none name"><code>read_nfi.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>read_nfi() function reads and processes the Korean National Forest Inventory (NFI).
It loads annual NFI files from a local computer, transforms the data into an analysis-friendly format, and performs data integrity verification.
Users can specify districts and tables to load.
When loading data from the original NFI Excel files, the function will automatically handle the translation of Korean column names to English - no manual translation is required.
NFI data can be downloaded from <a href="https://kfss.forest.go.kr/stat/" class="external-link">https://kfss.forest.go.kr/stat/</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_nfi</span><span class="op">(</span></span>
<span>  <span class="va">dir</span>,</span>
<span>  district <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tree"</span>, <span class="st">"cwd"</span><span class="op">)</span>,</span>
<span>  pattern <span class="op">=</span> <span class="st">"xlsx"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dir">dir<a class="anchor" aria-label="anchor" href="#arg-dir"></a></dt>
<dd><p>: A character vector; The directory containing NFI files.</p></dd>


<dt id="arg-district">district<a class="anchor" aria-label="anchor" href="#arg-district"></a></dt>
<dd><p>: A character vector; The district names in Korean (sido, sigungu, or eupmyondong levels). If <code>NULL</code>, the entire dataset is loaded. Combine multiple districts using <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>.</p></dd>


<dt id="arg-tables">tables<a class="anchor" aria-label="anchor" href="#arg-tables"></a></dt>
<dd><p>: A character vector; tables to import. Options: 'tree', 'cwd', 'stump', 'sapling', 'veg', 'herb', 'soil'. Combine multiple tables using <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code>. e.g., <code>c('tree', 'cwd', 'stump', 'sapling', 'veg', 'herb', 'soil')</code>.</p></dd>


<dt id="arg-pattern">pattern<a class="anchor" aria-label="anchor" href="#arg-pattern"></a></dt>
<dd><p>: A character vector; (default "xlsx"); file pattern to match when loading NFI files. Use regular expressions to filter specific files (e.g., "NFI5.*xlsx" for 5th NFI files only)</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>: Additional arguments to be passed to <code><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files()</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.frame</code>; the processed NFI data, structured for easy analysis.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function can load the following tables:</p>
<p><code>plot</code> Base table containing subplot data including site, stand and non-forest area, among other details (automatically included).</p>
<p><code>tree</code> Tree survey table including species, DBH, and height, among others. Data is collected from trees and large trees survey plot of subplot.</p>
<p><code>cwd</code> Coarse woody debris table including species, tree decay level, and cause of death, among other details. Data is collected only at the center subplot of the cluster plot.</p>
<p><code>stump</code> Stumps table including species and diameter at 20 cm above the ground, among other details. Data is collected only at the center subplot of the cluster.</p>
<p><code>sapling</code> Saplings table including species, diameter at 20 cm above the ground, and the number of individuals, among other details. Data is collected only at the sapling survey plot of the subplot.</p>
<p><code>veg</code> Vegetation table (both woody and herbaceous plants). It records species, number of individuals, and dominance, among others. Data is collected from three vegetation survey plots located within each selected center subplot. The selection includes 25% of the total number of center subplots.</p>
<p><code>herb</code> Herbaceous table focused on the herbaceous list. Data is collected only at the sapling survey plot of the subplot.</p>
<p><code>soil</code> Soil table including the thickness of the organic layer and soil depth, among others. Data is collected from three soil survey plots located within each selected center subplot. The selection includes 25% of the total number of center subplots.</p>
<p>For more details, refer to the National Forest Inventory guidelines.</p>
<p>This function performs several data integrity validation.</p><ol><li><p>Corrects administrative region information for subplots. (col: SIDO, SIDO_CD, SGG, SGG_CD, EMD, EMD_CD)</p></li>
<li><p>Adds ecoregion and catchment for subplots. (col: ECOREGION, CATCHMENT)</p></li>
<li><p>Verifies and corrects coniferous/deciduous classification of tree species. (col: CONDEC_CLASS, CONDEC_CLASS_CD, WDY_PLNTS_TYP, WDY_PLNTS_TYP_CD)</p></li>
<li><p>Adds scientific names for species. (col: SCIENTIFIC_NAME)</p></li>
<li><p>Adds Korean and English names for plant families and genera. (col: FAMILY, FAMILY_KOREAN, GENUS, GENUS_KOREAN)</p></li>
<li><p>Adds whether a plant is native or cultivated, and identifies if it is a food, medicinal, fiber, or ornamental resource. (col: NATIVE_CULTIVATED, FOOD, MEDICINAL, FIBER, ORNAMENTAL)</p></li>
<li><p>Calculates basal area for individual tree (col: BASAL_AREA)</p></li>
<li><p>Calculates forest type, dominant species, and dominant species percentage for each subplot and cluster plot. (col: FORTYP_SUB, DOMIN_PERCNT_SUB, DOMIN_SP_SUB, FORTYP_CLST, DOMIN_PERCNT_CLST, DOMIN_SP_CLST)
Species classification and taxonomy follow the standards set by the Korean Plant Names Index Committee of the Korea National Arboretum <a href="http://www.nature.go.kr/kpni/index.do" class="external-link">http://www.nature.go.kr/kpni/index.do</a>.</p></li>
</ol></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>To manually download subsets of the annual NFI file, visit the Korea Forest Service Forestry Statistics Platform (<a href="https://kfss.forest.go.kr/stat/" class="external-link">https://kfss.forest.go.kr/stat/</a>), download .zip files, and extract them.</p>
<p>-The 5th National Forest Inventory file: <a href="https://kfss.forest.go.kr/stat/ptl/article/articleFileDown.do?fileSeq=2995&amp;workSeq=2203" class="external-link">https://kfss.forest.go.kr/stat/ptl/article/articleFileDown.do?fileSeq=2995&amp;workSeq=2203</a>
-The 6th National Forest Inventory file: <a href="https://kfss.forest.go.kr/stat/ptl/article/articleFileDown.do?fileSeq=2996&amp;workSeq=2204" class="external-link">https://kfss.forest.go.kr/stat/ptl/article/articleFileDown.do?fileSeq=2996&amp;workSeq=2204</a>
-The 7th National Forest Inventory file: <a href="https://kfss.forest.go.kr/stat/ptl/article/articleFileDown.do?fileSeq=2997&amp;workSeq=2205" class="external-link">https://kfss.forest.go.kr/stat/ptl/article/articleFileDown.do?fileSeq=2997&amp;workSeq=2205</a></p>
<p>Use <code>data("nfi_col")</code> to view the Korean and English names of the column names.</p>
<p>While the National Forest Inventory undergoes rigorous quality control, including internal reviews  and field inspections, errors may still exist due to the extensive nature of the survey (approximately 4,000 plots and over 70 items in the 7th phase).
Please use the data cautiously and report any anomalies to help improve our algorithms.</p>
<p>If you want to save the results to your computer, you can save them in Excel format.
For example, you can use the following code:<code>writexl::write_xlsx(data, "data.xlsx")</code></p>
<p>If you want to read the saved data back, use the code below:
<code>path &lt;-"../nfi_donghae.xlsx"</code>
<code>sheet_names &lt;- readxl::excel_sheets(path)</code>
<code>for (sheet_name in sheet_names) {nfi[[sheet_name]] &lt;- readxl::read_excel(path, sheet = sheet_name) }</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span> <span class="co"># Load tree and CWD data for all districts</span></span></span>
<span class="r-in"><span> <span class="va">nfi5_data</span> <span class="op">&lt;-</span> <span class="fu">read_nfi</span><span class="op">(</span><span class="st">"D:/NFI/"</span>, district <span class="op">=</span> <span class="cn">NULL</span>, tables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tree"</span>, <span class="st">"cwd"</span><span class="op">)</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in read_nfi("D:/NFI/", district = NULL, tables = c("tree", "cwd"),     recursive = TRUE):</span> Directory  D:/NFI/  does not exist.</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sinyoung Park, Wonhee Cho, Inyoo Kim, Wontaek Lim, Dongwook W. Ko.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

